#### 什么是异步函数
如果称一个函数是异步的，即指改函数会在未来某个时间内再运行一个函数。

#### 为何要异步
如果代码是同步，即代码流程是从上而下跑的，那么如果遇到如I/O输入，网络请求等耗时较久的请求，会使线程阻塞。使用异步可以通过函数立刻返回，从而
避免这些耗时久的行为。

#### 如何实现异步
在其他程序语言中，实现异步的操作是通过多线程来实现的，为十分耗时的I/O，网络请求等新开一个线程，再通过线程之间的通信，实现消息通知和时间触发。

但是在js中，我们知道js运行引擎的单线程的，但是浏览器是多线程的，所以js的异步操作本质上也是多线程的，js的异步比较纯粹。 如下就是js的异步过程： 

我们js运行引擎中负责解释和执行js的代码的线程叫做主线程， 在浏览器中，或者是nodejs运行环境中，我们还有其他的线程，如ajax请求的http线程，延时时间线程，处理DOM操作线程，文件读写线程等。
在异步过程中，主线程碰到如ajax，I/O等操作时，主线程就会去调用工作线程。在这个过程中，程序跑的就是异步过程，其中，调用工作线程的函数被叫做异步函数的发起函数，或者是异步任务注册函数，其中的回调函数被用来处理结果。

#### js的消息队列和事件循环
上面的回调函数被叫做消息，当工作线程完成任务后，会将回调函数入队到消息队列，而主线程在执行完js语句后，会不断的从消息队列中取出数据并执行，我们把这个过程叫做事件循环
具体见下图 ![消息队列与事件循环](../img/消息队列和事件循环.png)

#### 具体实例
    for(var i = 0; i <= 3; i++){
        setTimeout(function(){
                console.log(i); 
            }, 0);                                //输出 4, 4, 4
    }

*JavaScript 事件处理器在线程空闲之前不会运行*

#### 参考
1. [同步，异步的具体区别](https://segmentfault.com/a/1190000004322358)
2. [JavaScript异步编程](http://yangfch3.com/2016/10/16/JavaScript-%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B%EF%BC%88%E4%B8%8A%EF%BC%89/)
3. [JavaScript 异步编程学习笔记 ](JavaScript 异步编程学习笔记 )